# If the superstate is nil and the states' name is not TestAgent, then propose an
# operator to name the state TestAgent.
sp {topstate*propose*init-agent
   (state <s> ^superstate nil
             -^name)
-->
   (<s> ^operator <o> +)
   (<o> ^name init-agent)
}

sp {topstate*apply*init-agent
   (state <s> ^operator.name init-agent)
-->
   (<s> ^name TestAgent)
}

source wait.soar
